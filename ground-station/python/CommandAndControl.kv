#:kivy 1.0.9

<Instrument>:
    name: 'Instrument x'
    size: 50, 50
    canvas:
        Color:
            rgb: 0, 0.5, 0.4
        Ellipse:
            pos:self.pos
            size:self.width, self.width
    Label:
        font_size: 18
        center_x: root.center_x
        center_y: root.top-25
        text: self.parent.name

<InstrumentPanel>:
    #instrument1: barometer
    #instrument1: compass
    name: 'panelName'
    backgroundColour: 0.5, 0.5, 0.5,1
    rows:2
    canvas:
        Color:
            rgba: self.backgroundColour  #set background of widget grey 
        Rectangle:
            size: root.size
            pos: self.pos
    Label:
        size_hint: 1,0.1
        text: self.parent.name
    GridLayout:
        cols: 10
        Instrument:
            name: 'Instrument 1'
        Instrument:
            name: 'Instrument 2'
        Instrument: 
            name: 'Instrument 3'
        Instrument: 
            name: 'Instrument 4'

    #Label:
    #    font_size: 25
    #    center_x: self.parent.center_x
    #    top: root.top
    #    text: "panel"
    #Instrument:
    #    id: barometer
    #    x: root.center_x - self.width +50
    #    center_y: root.center_y 
    #Instrument:
    #    id: compass
    #    x: root.center_x + self.width +50
    #    center_y: root.center_y

<CommandWidget>:
    #panel1: layout_a.instrumentPanel
    rows: 2
    canvas:
        #Rectangle:
            #pos_hint: 1,0.10
            #size: self.width, 10
    Label: #ToDo: wrap this in custom widget to add line at bottom 
        size_hint: 1,0.10 #only size_hint works with layout i think
        font_size: 50
        center_x: root.width * 2. / 4
        top: root.top - 25
        text: 'Command Widget'

        #instrumentPanel: instrumentPanel#pass this up the latter for python code 
    GridLayout:
        cols: 2
        GridLayout:
            size_hint: 0.6,1
            rows:2
            InstrumentPanel:
                name: 'Instrument Panel'
                backgroundColour: 0.2,0.2,0.2,1
            GridLayout:
                cols: 2
                InstrumentPanel:
                    size_hint: 0.6,1
                    name: 'Motor Feedback'
                    backgroundColour: 0.1,0.1,0.1,1
                Button:
                    size_hint: 0.35,1
            
        Button:
            size_hint: 0.35,1
            text: 'right half2'

        
        
